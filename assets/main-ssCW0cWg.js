import{c as d,r as i,a as o,g as n,H as b,U as f,b as g,P as w,F as p,L as P}from"./render-Bjw3yRJ-.js";const m=e=>{const r="/front_5th_chapter1-2",{subscribe:c,notify:a}=d(),s=()=>{const t=window.location.pathname;return console.log("getTarget:",t),t.startsWith(r)?t.slice(r.length)||"/":t},l=()=>e[s()];console.log("getTarget:",l());const u=t=>{const h=r+`${t}`;window.history.pushState(null,null,h),a()};return window.addEventListener("popstate",()=>a()),{get path(){return s()},push:u,subscribe:c,getTarget:l}};i.set(m({"/":b,"/login":()=>{const{loggedIn:e}=n.getState();if(e)throw new p;return g(P,null)},"/profile":()=>{const{loggedIn:e}=n.getState();if(!e)throw new f;return g(w,null)}}));function S(){i.get().subscribe(o),n.subscribe(o),o()}S();
